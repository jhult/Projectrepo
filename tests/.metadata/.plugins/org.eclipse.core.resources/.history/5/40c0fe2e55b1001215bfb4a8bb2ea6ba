<?xml version="1.0" encoding="UTF-8"?>
 <project basedir="." default="runTest" name="Ant file for TestNG">
   
  <property name="src" location="src" />
  <property name="bin" location="bin" />
  <property name="libs" location="lib" />
  <property name="ant.home" value="C:\SAFc\setup\apache-ant-1.8.4"/>
   
  <path id="class.path">
      <pathelement location="${libs}/testng-6.9beta.jar" />
  	  <pathelement location="${libs}/safc-2.0.jar"/>
  	  <pathelement location="${libs}/selenium-server-standalone-2.31.0.jar" />
      <pathelement location="${libs}/poi-3.8-20120326.jar"/>
      <pathelement location="${libs}/activation.jar"/>
      <pathelement location="${libs}/mail.jar"/>
      <pathelement location="${bin}" />
  </path>
   
    <taskdef name="testng" classname="org.testng.TestNGAntTask">
      <classpath>
        <pathelement location="lib/testng-6.9beta.jar"/>
      </classpath>
    </taskdef>
 
  <!--
  Target to run TestNG. It will run according to what are defined in testng.xml.
  The report will be saved at .../test-output/index.html.
  -->
  <target name="runTest">
 
    <mkdir dir="test-output"/><!-- Create the output directory. -->

    <testng outputdir="test-output" classpathref="class.path" useDefaultListeners="false"
        listeners="org.testng.reporters.EmailableReporter, org.testng.reporters.XMLReporter"> 
    	 <xmlfileset dir="." includes="testng_sanity.xml"/>
         <!-- <xmlfileset dir="." includes="testng.xml"/>  -->
    </testng>
 
 <!-- <testng outputdir="test-output" classpathref="class.path"
      useDefaultListeners="false"
      listeners="org.uncommons.reportng.HTMLReporter,org.uncommons.reportng.JUnitXMLReporter"> 
      <xmlfileset dir="." includes="testng.xml"/> 
      <sysproperty key="org.uncommons.reportng.title" value="SAFc Test Report"/>
      <sysproperty key="org.uncommons.reportng.xml-dialect" value="testng"/>
      <sysproperty key="org.uncommons.reportng.coverage-report " value=""/>   
      </testng> -->
 
  </target>

<!-- Target: Send mail TestNG report. -->

  <target name="sendMail">
   <mail
      tolist="ashish.d.kumar@oracle.com "
      from="noreply@oracle.com"
      subject="C9: Automation Test Results"
      mailhost="stbeehive.oracle.com"
      mailport="465"
      ssl="true"
      user="ashish.d.kumar@oracle.com"
      password="Octo2012">
      <message>PFA the SAFc Automation Test Results for C9_SanityTest.</message>
      <attachments>
          <fileset dir="C:\SAFc\Tests\OPC\test-output\">
  	  <include name="emailable-report.html"/>
  	  </fileset>
      </attachments>
   </mail>
</target>

</project>